{
  "schemaVersion": "v1.0.0",
  "name": "mybuns",
  "version": "0.1.2",
  "description": "A very thorough test bundle",
  "invocationImages": [
    {
      "imageType": "docker",
      "image": "localhost:5000/mybuns:332dd75c541511a27fc332bdcd049d5b"
    }
  ],
  "actions": {
    "boom": {
      "modifies": true,
      "description": "boom"
    },
    "dry-run": {
      "stateless": true,
      "description": "Make sure it will work before you run it"
    },
    "status": {
      "description": "Print the installation status"
    }
  },
  "parameters": {
    "cfg": {
      "definition": "cfg-parameter",
      "description": "A json config file",
      "destination": {
        "path": "/cnab/app/buncfg.json"
      }
    },
    "chaos_monkey": {
      "definition": "chaos_monkey-parameter",
      "description": "Set to true to make the bundle fail",
      "destination": {
        "env": "CHAOS_MONKEY"
      }
    },
    "log_level": {
      "definition": "log_level-parameter",
      "description": "How unhelpful would you like the logs to be?",
      "destination": {
        "env": "LOG_LEVEL"
      }
    },
    "password": {
      "definition": "password-parameter",
      "description": "The super secret data",
      "destination": {
        "env": "PASSWORD"
      },
      "required": true
    },
    "porter-debug": {
      "definition": "porter-debug-parameter",
      "description": "Print debug information from Porter when executing the bundle",
      "destination": {
        "env": "PORTER_DEBUG"
      }
    },
    "porter-state": {
      "definition": "porter-state",
      "description": "Supports persisting state for bundles. Porter internal parameter that should not be set manually.",
      "destination": {
        "path": "/porter/state.tgz"
      }
    }
  },
  "credentials": {
    "username": {
      "env": "USERNAME",
      "description": "The name you want on the audit log",
      "required": true
    }
  },
  "outputs": {
    "mylogs": {
      "definition": "mylogs-output",
      "applyTo": [
        "install",
        "upgrade"
      ],
      "path": "/cnab/app/outputs/mylogs"
    },
    "porter-state": {
      "definition": "porter-state",
      "description": "Supports persisting state for bundles. Porter internal parameter that should not be set manually.",
      "path": "/cnab/app/outputs/porter-state"
    }
  },
  "definitions": {
    "cfg-parameter": {
      "contentEncoding": "base64",
      "default": "",
      "description": "A json config file",
      "type": "string"
    },
    "chaos_monkey-parameter": {
      "default": false,
      "description": "Set to true to make the bundle fail",
      "type": "boolean"
    },
    "log_level-parameter": {
      "default": 5,
      "description": "How unhelpful would you like the logs to be?",
      "maximum": 11,
      "minimum": 1,
      "type": "integer"
    },
    "mylogs-output": {
      "type": "string"
    },
    "password-parameter": {
      "description": "The super secret data",
      "type": "string",
      "writeOnly": true
    },
    "porter-debug-parameter": {
      "$comment": "porter-internal",
      "$id": "https://porter.sh/generated-bundle/#porter-debug",
      "default": false,
      "description": "Print debug information from Porter when executing the bundle",
      "type": "boolean"
    },
    "porter-state": {
      "$comment": "porter-internal",
      "$id": "https://porter.sh/generated-bundle/#porter-state",
      "contentEncoding": "base64",
      "description": "Supports persisting state for bundles. Porter internal parameter that should not be set manually.",
      "type": "string"
    }
  },
  "requiredExtensions": [
    "sh.porter.file-parameters",
    "io.cnab.parameter-sources"
  ],
  "custom": {
    "io.cnab.parameter-sources": {
      "porter-state": {
        "priority": [
          "output"
        ],
        "sources": {
          "output": {
            "name": "porter-state"
          }
        }
      }
    },
    "sh.porter": {
      "manifestDigest": "",
      "mixins": {
        "exec": {}
      },
      "manifest": "IyBUaGlzIGlzIGEgdGVzdCBidW5kbGUgdGhhdCBtYWtlcyBubyBsb2dpY2FsIHNlbnNlLCBidXQgaXQgZG9lcyBleGVyY2lzZSBsb3RzIG9mIGRpZmZlcmVudCBidW5kbGUgZmVhdHVyZXMKCnNjaGVtYVZlcnNpb246IDEuMC4wLWFscGhhLjEKbmFtZTogbXlidW5zCnZlcnNpb246IDAuMS4yCmRlc2NyaXB0aW9uOiAiQSB2ZXJ5IHRob3JvdWdoIHRlc3QgYnVuZGxlIgpyZWdpc3RyeTogbG9jYWxob3N0OjUwMDAKZG9ja2VyZmlsZTogRG9ja2VyZmlsZS50bXBsCgpjcmVkZW50aWFsczoKICAtIG5hbWU6IHVzZXJuYW1lCiAgICBkZXNjcmlwdGlvbjogIlRoZSBuYW1lIHlvdSB3YW50IG9uIHRoZSBhdWRpdCBsb2ciCiAgICBlbnY6IFVTRVJOQU1FCgpwYXJhbWV0ZXJzOgogIC0gbmFtZTogbG9nX2xldmVsCiAgICBkZXNjcmlwdGlvbjogIkhvdyB1bmhlbHBmdWwgd291bGQgeW91IGxpa2UgdGhlIGxvZ3MgdG8gYmU/IgogICAgdHlwZTogaW50ZWdlcgogICAgbWluaW11bTogMQogICAgbWF4aW11bTogMTEKICAgIGRlZmF1bHQ6IDUKICAtIG5hbWU6IHBhc3N3b3JkCiAgICBkZXNjcmlwdGlvbjogIlRoZSBzdXBlciBzZWNyZXQgZGF0YSIKICAgIHR5cGU6IHN0cmluZwogICAgc2Vuc2l0aXZlOiB0cnVlCiAgLSBuYW1lOiBjaGFvc19tb25rZXkKICAgIGRlc2NyaXB0aW9uOiAiU2V0IHRvIHRydWUgdG8gbWFrZSB0aGUgYnVuZGxlIGZhaWwiCiAgICB0eXBlOiBib29sZWFuCiAgICBkZWZhdWx0OiBmYWxzZQogIC0gbmFtZTogY2ZnCiAgICBkZXNjcmlwdGlvbjogIkEganNvbiBjb25maWcgZmlsZSIKICAgIHR5cGU6IGZpbGUKICAgIGRlZmF1bHQ6ICcnCiAgICBwYXRoOiBidW5jZmcuanNvbgoKb3V0cHV0czoKICAtIG5hbWU6IG15bG9ncwogICAgYXBwbHlUbzoKICAgICAgLSBpbnN0YWxsCiAgICAgIC0gdXBncmFkZQoKc3RhdGU6CiAgLSBuYW1lOiBtYWdpY19maWxlCiAgICBwYXRoOiBtYWdpYy50eHQKCmRlcGVuZGVuY2llczoKICByZXF1aXJlZDoKICAgIC0gbmFtZTogZGIKICAgICAgcmVmZXJlbmNlOiAibG9jYWxob3N0OjUwMDAvbXlkYjp2MC4xLjAiCiAgICAgIHBhcmFtZXRlcnM6CiAgICAgICAgZGF0YWJhc2U6IGJpZ2RiCgptaXhpbnM6CiAgLSBleGVjCgpjdXN0b21BY3Rpb25zOgogIGRyeS1ydW46CiAgICBkZXNjcmlwdGlvbjogIk1ha2Ugc3VyZSBpdCB3aWxsIHdvcmsgYmVmb3JlIHlvdSBydW4gaXQiCiAgICBzdGF0ZWxlc3M6IHRydWUKICAgIG1vZGlmaWVzOiBmYWxzZQogIHN0YXR1czoKICAgIGRlc2NyaXB0aW9uOiAiUHJpbnQgdGhlIGluc3RhbGxhdGlvbiBzdGF0dXMiCiAgICBzdGF0ZWxlc3M6IGZhbHNlCiAgICBtb2RpZmllczogZmFsc2UKCmluc3RhbGw6CiAgLSBleGVjOgogICAgICBkZXNjcmlwdGlvbjogIkxldCdzIG1ha2Ugc29tZSBtYWdpYyIKICAgICAgY29tbWFuZDogLi9oZWxwZXJzLnNoCiAgICAgIGFyZ3VtZW50czoKICAgICAgICAtIG1ha2VNYWdpYwogICAgICAgIC0gIid7eyBidW5kbGUuY3JlZGVudGlhbHMudXNlcm5hbWUgfX0gaXMgYSB1bmljb3JuIHdpdGgge3sgYnVuZGxlLnBhcmFtZXRlcnMucGFzc3dvcmQgfX0gc2VjcmV0LiciCiAgLSBleGVjOgogICAgICBkZXNjcmlwdGlvbjogImluc3RhbGwiCiAgICAgIGNvbW1hbmQ6IC4vaGVscGVycy5zaAogICAgICBhcmd1bWVudHM6CiAgICAgICAgLSBpbnN0YWxsCiAgICAgIG91dHB1dHM6CiAgICAgICAgLSBuYW1lOiBteWxvZ3MKICAgICAgICAgIHJlZ2V4OiAiKC4qKSIKICAtIGV4ZWM6CiAgICAgIGRlc2NyaXB0aW9uOiAicm9sbCB0aGUgZGljZSB3aXRoIHlvdXIgY2hhb3MgbW9ua2V5IgogICAgICBjb21tYW5kOiAuL2hlbHBlcnMuc2gKICAgICAgYXJndW1lbnRzOgogICAgICAgIC0gY2hhb3NfbW9ua2V5CiAgICAgICAgLSAie3sgYnVuZGxlLnBhcmFtZXRlcnMuY2hhb3NfbW9ua2V5IH19IgoKZHJ5LXJ1bjoKICAtIGV4ZWM6CiAgICAgIGRlc2NyaXB0aW9uOiAiQ2hlY2sgc29tZSB0aGluZ3MiCiAgICAgIGNvbW1hbmQ6IGVjaG8KICAgICAgYXJndW1lbnRzOgogICAgICAgIC0gIkFsbCBjbGVhciEiCgpzdGF0dXM6CiAgLSBleGVjOgogICAgICBkZXNjcmlwdGlvbjogIlByaW50IGNvbmZpZyIKICAgICAgY29tbWFuZDogY2F0CiAgICAgIGFyZ3VtZW50czoKICAgICAgICAtICJ7eyBidW5kbGUucGFyYW1ldGVycy5jZmcgfX0iCiAgLSBleGVjOgogICAgICBkZXNjcmlwdGlvbjogIlByaW50IG1hZ2ljIgogICAgICBjb21tYW5kOiBjYXQKICAgICAgYXJndW1lbnRzOgogICAgICAgIC0gbWFnaWMudHh0Cgpib29tOgogIC0gZXhlYzoKICAgICAgZGVzY3JpcHRpb246ICJtb2RpZnkgdGhlIGJ1bmRsZSBpbiB1bmtub3dhYmxlIHdheXMiCiAgICAgIGNvbW1hbmQ6IGVjaG8KICAgICAgYXJndW1lbnRzOgogICAgICAgIC0gIllPTE8iCgp1cGdyYWRlOgogIC0gZXhlYzoKICAgICAgZGVzY3JpcHRpb246ICJFbnN1cmUgbWFnaWMiCiAgICAgIGNvbW1hbmQ6IC4vaGVscGVycy5zaAogICAgICBhcmd1bWVudHM6CiAgICAgICAgLSBlbnN1cmVNYWdpYwogIC0gZXhlYzoKICAgICAgZGVzY3JpcHRpb246ICJ1cGdyYWRlIgogICAgICBjb21tYW5kOiAuL2hlbHBlcnMuc2gKICAgICAgYXJndW1lbnRzOgogICAgICAgIC0gdXBncmFkZQogICAgICBvdXRwdXRzOgogICAgICAgIC0gbmFtZTogbXlsb2dzCiAgICAgICAgICByZWdleDogIiguKikiCiAgLSBleGVjOgogICAgICBkZXNjcmlwdGlvbjogInJvbGwgdGhlIGRpY2Ugd2l0aCB5b3VyIGNoYW9zIG1vbmtleSIKICAgICAgY29tbWFuZDogLi9oZWxwZXJzLnNoCiAgICAgIGFyZ3VtZW50czoKICAgICAgICAtIGNoYW9zX21vbmtleQogICAgICAgIC0gInt7IGJ1bmRsZS5wYXJhbWV0ZXJzLmNoYW9zX21vbmtleSB9fSIKCnVuaW5zdGFsbDoKICAtIGV4ZWM6CiAgICAgIGRlc2NyaXB0aW9uOiAiRW5zdXJlIE1hZ2ljIgogICAgICBjb21tYW5kOiAuL2hlbHBlcnMuc2gKICAgICAgYXJndW1lbnRzOgogICAgICAgIC0gZW5zdXJlTWFnaWMKICAtIGV4ZWM6CiAgICAgIGRlc2NyaXB0aW9uOiAidW5pbnN0YWxsIgogICAgICBjb21tYW5kOiAuL2hlbHBlcnMuc2gKICAgICAgYXJndW1lbnRzOgogICAgICAgIC0gdW5pbnN0YWxsCiAgLSBleGVjOgogICAgICBkZXNjcmlwdGlvbjogInJvbGwgdGhlIGRpY2Ugd2l0aCB5b3VyIGNoYW9zIG1vbmtleSIKICAgICAgY29tbWFuZDogLi9oZWxwZXJzLnNoCiAgICAgIGFyZ3VtZW50czoKICAgICAgICAtIGNoYW9zX21vbmtleQogICAgICAgIC0gInt7IGJ1bmRsZS5wYXJhbWV0ZXJzLmNoYW9zX21vbmtleSB9fSIK",
      "version": "",
      "commit": ""
    },
    "sh.porter.file-parameters": {}
  }
}